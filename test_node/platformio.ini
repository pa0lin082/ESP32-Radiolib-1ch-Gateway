; PlatformIO Project Configuration File for Test Node ABP
;
; Questo file configura il nodo di test ABP uplink-only
; Per caricare sul nodo: platformio run --target upload
; Per monitorare: platformio device monitor

[platformio]
src_dir = .
default_envs = heltec_wifi_lora_32_V4

[env:heltec_wifi_lora_32_V4]
platform = espressif32@^6.4.0
board = heltec_v4
framework = arduino

; Librerie richieste
lib_deps = 
    jgromes/RadioLib@^7.4.0
    bblanchon/ArduinoJson@^7.4.2

; Configurazione seriale
monitor_speed = 115200
monitor_filters = 
    esp32_exception_decoder
    time
    default

; USB CDC per ESP32-S3
build_flags = 
    -D ARDUINO_USB_CDC_ON_BOOT=1
    -D CORE_DEBUG_LEVEL=3
    -D RADIOLIB_DEBUG=1
    -D RADIOLIB_DEBUG_PROTOCOL=1
    -I variants/heltec_v4

; Partizioni di default
board_build.mcu = esp32s3
board_build.f_cpu = 240000000L
board_upload.flash_size = 16MB
board_build.partitions = default_16MB.csv

; Upload settings
upload_speed = 921600
upload_port = /dev/cu.usbmodem9070698575201
monitor_port = /dev/cu.usbmodem9070698575201
